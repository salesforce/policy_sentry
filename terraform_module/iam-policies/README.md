# generate-iam-policies

This generates IAM policies based on JSON files in a specified folder. This is ideal for usage with IAM Policies generated by policy sentry.

## Usage

From the `environments/iam-resources/` directory, which shows the example usage of this.

```hcl-terraform
module "policies" {
  source                             = "../../modules/generate-iam-policies"
  relative_path_to_json_policy_files = "files"
}
```

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| terraform | ~> 0.12.8 |
| aws | ~> 2.48.0 |
| template | ~> 2.1.2 |

## Providers

| Name | Version |
|------|---------|
| aws | ~> 2.48.0 |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| description | The description to include for the IAM policy. | `string` | `"Generated by Policy Sentry"` | no |
| name | Name of the JSON policy file, minus the file extension. For example, 'result' instead of 'result.json' | `any` | n/a | yes |
| policy\_json | The policy document in json | `any` | n/a | yes |
| region | The AWS region for these resources, such as us-east-1. | `any` | n/a | yes |

## Outputs

| Name | Description |
|------|-------------|
| iam\_policy\_arn | The ARN assigned by AWS to this policy. |
| iam\_policy\_document | The policy document. |
| iam\_policy\_id | The policy's ID. |
| iam\_policy\_name | The name of the policy. |
| iam\_policy\_path | The path of the policy in IAM |

<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
